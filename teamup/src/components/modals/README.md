# CompleteProfileModal

–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–ª–æ–≥–∏–Ω–∞.

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å `isProfileCompleted === false` –∏ —Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ modals/
‚îÇ       ‚îî‚îÄ‚îÄ CompleteProfileModal.tsx   # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª–∫–∏
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ useCompleteProfile.ts          # React Query –º—É—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ userService.ts                 # API —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ store/
‚îÇ   ‚îî‚îÄ‚îÄ authStore.ts                   # Zustand store (–æ–±–Ω–æ–≤–ª–µ–Ω)
‚îî‚îÄ‚îÄ providers/
    ‚îî‚îÄ‚îÄ AuthProvider.tsx               # –ü—Ä–æ–≤–∞–π–¥–µ—Ä (–æ–±–Ω–æ–≤–ª–µ–Ω)
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ):

```typescript
// –ú–æ–¥–∞–ª–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:

// 1. –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
// 2. –ü–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ (–µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω)
// 3. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω)
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ:

```typescript
import { useAuthStore } from '@/store/authStore';

function MyComponent() {
  const openProfileModal = useAuthStore(s => s.openProfileModal);
  
  return <button onClick={openProfileModal}>–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>;
}
```

## üìù –ü–æ–ª—è —Ñ–æ—Ä–º—ã

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –í–∞–ª–∏–¥–∞—Ü–∏—è |
|------|-----|--------------|-----------|
| specialization | string | ‚úÖ | –ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞ |
| about | string | ‚úÖ | –ú–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤ |
| skills | string[] | ‚úÖ | –ú–∏–Ω–∏–º—É–º 1 —ç–ª–µ–º–µ–Ω—Ç |
| interests | string[] | ‚úÖ | –ú–∏–Ω–∏–º—É–º 1 —ç–ª–µ–º–µ–Ω—Ç |
| status | UserStatus | ‚ùå | –û–¥–∏–Ω –∏–∑ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö |

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ UI

- **Tag Input**: –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–∞–≤—ã–∫–∞/–∏–Ω—Ç–µ—Ä–µ—Å–∞
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –†–µ–∞–ª—Ç–∞–π–º –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
- **–ö–Ω–æ–ø–∫–∞**: –ê–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∞–ª–∏–¥–Ω–æ–π —Ñ–æ—Ä–º–µ
- **Loader**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- **–ê–Ω–∏–º–∞—Ü–∏–∏**: –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞**: –ù–µ–ª—å–∑—è –∑–∞–∫—Ä—ã—Ç—å –¥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π

## üîß API

### Endpoint

```
PATCH /users/profile
```

### Request

```json
{
  "specialization": "Frontend Developer",
  "about": "Experienced React developer...",
  "skills": ["React", "TypeScript"],
  "interests": ["Web Development", "UI/UX"],
  "status": "–û—Ç–∫—Ä—ã—Ç –∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º"
}
```

### Response

```json
{
  "user": {
    "_id": "...",
    "isProfileCompleted": true,
    ...
  }
}
```

## üéØ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

```mermaid
graph TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç] --> B{isProfileCompleted?}
    B -->|false| C[–ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª–∫—É]
    B -->|true| D[–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]
    C --> E[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É]
    E --> F[–í–∞–ª–∏–¥–∞—Ü–∏—è]
    F -->|–û—à–∏–±–∫–∏| E
    F -->|OK| G[–û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ API]
    G -->|–£—Å–ø–µ—Ö| H[–û–±–Ω–æ–≤–∏—Ç—å Zustand]
    H --> I[–ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É]
    H --> J[isProfileCompleted = true]
    G -->|–û—à–∏–±–∫–∞| K[–ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É]
    K --> E
```

## üì± –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö—É–∫–∞

```typescript
import { useCompleteProfile } from '@/hooks/useCompleteProfile';

function MyForm() {
  const { mutate, isPending, isError, error } = useCompleteProfile();

  const handleSubmit = (data) => {
    mutate(data);
  };

  return (
    <form onSubmit={handleSubmit}>
      {/* –í–∞—à–∏ –ø–æ–ª—è */}
      <button disabled={isPending}>
        {isPending ? '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å'}
      </button>
    </form>
  );
}
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–∑–∂–µ:

```typescript
import { userService } from '@/services/userService';
import { useAuthStore } from '@/store/authStore';

async function updateProfile() {
  const { user } = await userService.updateProfile({
    status: '–†–∞–±–æ—Ç–∞—é –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º'
  });
  
  useAuthStore.getState().setUser(user);
}
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –º–æ–¥–∞–ª–∫–∏:

```typescript
const showProfileModal = useAuthStore(s => s.showProfileModal);
console.log('Modal visible:', showProfileModal);
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```typescript
const user = useAuthStore(s => s.user);
console.log('Profile completed:', user?.isProfileCompleted);
```

### –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É:

```typescript
useAuthStore.getState().openProfileModal();
```

### –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É:

```typescript
useAuthStore.getState().closeProfileModal();
```

## ‚öôÔ∏è –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã:

```typescript
// CompleteProfileModal.tsx
const STATUS_OPTIONS: UserStatus[] = [
  '–û—Ç–∫—Ä—ã—Ç –∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º',
  '–ò—â—É –∫–æ–º–∞–Ω–¥—É',
  '–í–∞—à –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å', // –î–æ–±–∞–≤—å—Ç–µ –∑–¥–µ—Å—å
];
```

### –ò–∑–º–µ–Ω–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é:

```typescript
// CompleteProfileModal.tsx
const validateForm = () => {
  // –í–∞—à–∏ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  if (specialization.length < 5) { // –ò–∑–º–µ–Ω–∏—Ç—å —Å 3 –Ω–∞ 5
    // ...
  }
};
```

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è:

```typescript
// 1. –î–æ–±–∞–≤–∏—Ç—å –≤ userService.ts
export interface CompleteProfileData {
  // ...—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  newField: string; // –ù–æ–≤–æ–µ –ø–æ–ª–µ
}

// 2. –î–æ–±–∞–≤–∏—Ç—å state –≤ CompleteProfileModal.tsx
const [newField, setNewField] = useState('');

// 3. –î–æ–±–∞–≤–∏—Ç—å JSX
<input
  value={newField}
  onChange={(e) => setNewField(e.target.value)}
/>

// 4. –î–æ–±–∞–≤–∏—Ç—å –≤ handleSubmit
completeProfile({
  // ...
  newField,
});
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. ‚úÖ –ú–æ–¥–∞–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–ª–∏–∫–Ω—É—Ç—å –≤–Ω–µ –º–æ–¥–∞–ª–∫–∏
4. ‚úÖ –ú–æ–¥–∞–ª–∫–∞ –ù–ï –¥–æ–ª–∂–Ω–∞ –∑–∞–∫—Ä—ã—Ç—å—Å—è
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è
6. ‚úÖ –ö–Ω–æ–ø–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å—Ç–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–π
7. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å"
8. ‚úÖ –ú–æ–¥–∞–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–∫—Ä—ã—Ç—å—Å—è
9. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
10. ‚úÖ –ú–æ–¥–∞–ª–∫–∞ –ù–ï –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–Ω–æ–≤–∞

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `src/types/user.ts` - –¢–∏–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `src/api/endpoints.ts` - API endpoints
- `src/api/axios.ts` - Axios instance
- `src/hooks/useVkLogin.tsx` - –õ–æ–≥–∏–Ω —Ö—É–∫
- `src/hooks/useVkRegister.tsx` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ö—É–∫

## üö® –í–∞–∂–Ω–æ

- –ú–æ–¥–∞–ª–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `position: fixed` - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ z-index
- –ú–æ–¥–∞–ª–∫–∞ —Ç—Ä–µ–±—É–µ—Ç React Query Provider - —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `QueryProvider`
- –ú–æ–¥–∞–ª–∫–∞ —Ç—Ä–µ–±—É–µ—Ç Zustand store - —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `authStore`
- API endpoint –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å `isProfileCompleted: true`

---

**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 06.12.2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É


